# สรุปการตรวจสอบไฟล์ใน `src/components`

จากการตรวจสอบไฟล์ทั้งหมดในโฟลเดอร์ `src/components` พบว่าไฟล์ทั้งหมดมีความเกี่ยวข้องโดยตรงกับระบบโหนดและส่วนประกอบ (Node and Component System) ของโปรเจกต์นี้

## การแบ่งประเภทไฟล์ที่ตรวจสอบ:

1.  **Node Components (คอมโพเนนต์โหนด):** ไฟล์เหล่านี้คือตัวแทนของโหนดประเภทต่างๆ ในระบบ เช่น `AntiVirusNode.tsx`, `BoxNode.tsx`, `CustomNode.tsx`, `GroupNode.tsx`, `InputNode.tsx`, `NumberSliderNode.tsx`, `OutputNode.tsx`, `PanelNode.tsx`, `SphereNode.tsx` พวกมันจัดการการแสดงผล การลาก การเชื่อมต่อ และคุณสมบัติเฉพาะของโหนดนั้นๆ

2.  **UI/Interaction Components (คอมโพเนนต์ส่วนติดต่อผู้ใช้และการโต้ตอบ):** ไฟล์เหล่านี้เป็นส่วนประกอบ UI ที่ช่วยให้ผู้ใช้โต้ตอบกับ Canvas ของโหนด หรือส่วนประกอบที่เกี่ยวข้องกับการเลือกและการจัดการ เช่น `UIToolbar.tsx`, `GroupButtonOverlay.tsx`, `WireActionMenu.tsx`, `SelectionOverlay.tsx` และ `SelectionLogic.tsx` ที่เกี่ยวข้องกับตรรกะการเลือก

3.  **Core Canvas/Layer Components (คอมโพเนนต์หลักของ Canvas/เลเยอร์):** ไฟล์เหล่านี้เป็นรากฐานโครงสร้างสำหรับการแสดงผลโหนดและการเชื่อมต่อ เช่น `NodeCanvas.tsx` (จัดการ Canvas ทั้งหมด) และ `NodeLayer.tsx` (จัดการการเรนเดอร์โหนด) รวมถึง `ConnectionLayer.tsx` (จัดการการแสดงผลการเชื่อมต่อ)

4.  **Visual Effect/3D Components (คอมโพเนนต์เอฟเฟกต์ภาพ/3D):** ไฟล์เหล่านี้สร้างเอฟเฟกต์ภาพหรือจัดการการแสดงผล 3D ซึ่งมักจะเชื่อมโยงกับการทำงานหรือสถานะของโหนด เช่น `FireEffect.tsx`, `LightningEffect.tsx`, `MagicParticles.tsx`, `Model.tsx`, `SceneContents.tsx`

**ข้อสรุป:** ไม่มีไฟล์ใดใน `src/components` ที่ไม่เกี่ยวข้องกับระบบโหนดหรือส่วนประกอบของโปรเจกต์นี้ ทุกไฟล์มีบทบาทในการสร้างและจัดการประสบการณ์ผู้ใช้เกี่ยวกับโหนดและการแสดงผลที่เกี่ยวข้อง

---
`src/components` โฟลเดอร์นี้มีแต่ไฟล์ที่เกี่ยวกับโหนดหรือส่วนประกอบ UI ที่ใช้งานกับโหนดนะครับ ไม่มีไฟล์ไหนที่ไม่เกี่ยวข้องเลย

---

## ข้อเสนอแนะในการจัดระเบียบไฟล์ (File Organization Suggestions)

ถึงแม้ว่าไฟล์ทั้งหมดจะมีความเกี่ยวข้องกับระบบ แต่เราสามารถจัดระเบียบโครงสร้างไฟล์ใน `src/components` ให้ดีขึ้นได้โดยการแบ่งกลุ่มไฟล์ตามหน้าที่เฉพาะ ซึ่งจะช่วยให้โค้ดสะอาดขึ้นและง่ายต่อการบำรุงรักษาในอนาคต

### โครงสร้างที่แนะนำ:

1.  **สร้างโฟลเดอร์ `src/components/effects`**:
    *   **หน้าที่**: สำหรับเก็บคอมโพเนนต์ที่แสดงผลเอฟเฟกต์ภาพโดยเฉพาะ
    *   **ไฟล์ที่ควรย้าย**:
        *   `FireEffect.tsx`
        *   `LightningEffect.tsx`
        *   `MagicParticles.tsx`

2.  **สร้างโฟลเดอร์ `src/components/ui`**:
    *   **หน้าที่**: สำหรับเก็บคอมโพเนนต์ส่วนติดต่อผู้ใช้ (UI) ที่ใช้โต้ตอบกับระบบโหนด
    *   **ไฟล์ที่ควรย้าย**:
        *   `GroupButtonOverlay.tsx`
        *   `UIToolbar.tsx`
        *   `WireActionMenu.tsx`
        *   `SelectionOverlay.tsx`

3.  **สร้างโฟลเดอร์ `src/components/scene`** (หรือ `3d`):
    *   **หน้าที่**: สำหรับคอมโพเนนต์ที่เกี่ยวข้องกับการแสดงผล 3D โดยเฉพาะ
    *   **ไฟล์ที่ควรย้าย**:
        *   `Model.tsx`
        *   `SceneContents.tsx`

4.  **ย้ายและปรับโครงสร้าง `SelectionLogic.tsx`**:
    *   **การเปลี่ยนแปลง**: ไฟล์นี้ทำหน้าที่เป็น Logic มากกว่าที่จะเป็น Component ที่แสดงผลโดยตรง ควรย้ายไปที่ `src/hooks` และอาจจะเปลี่ยนชื่อเป็น `useSelection3D.ts` เพื่อให้สอดคล้องกับการใช้งาน
    *   **โฟลเดอร์ปลายทาง**: `src/hooks/`

### ไฟล์ที่ควรคงอยู่ใน `src/components`:

*   **Node Components**: ไฟล์ที่ลงท้ายด้วย `...Node.tsx` เช่น `CustomNode.tsx`, `BoxNode.tsx`, `GroupNode.tsx`
*   **Core Layer Components**: ไฟล์ที่เป็นโครงสร้างหลักของ Canvas เช่น `NodeCanvas.tsx`, `NodeLayer.tsx`, `ConnectionLayer.tsx`

### ประโยชน์ของการจัดโครงสร้างใหม่:

*   **Code Organization**: โค้ดจะถูกจัดกลุ่มตามหน้าที่อย่างชัดเจน ทำให้ค้นหาและทำความเข้าใจได้ง่ายขึ้น
*   **Maintainability**: การแยกส่วนที่ชัดเจนทำให้การแก้ไขและเพิ่มเติมฟังก์ชันในอนาคตทำได้ง่าย และลดผลกระทบข้างเคียง
*   **Reusability**: คอมโพเนนต์ในกลุ่ม `effects` และ `ui` อาจถูกนำไปใช้ในส่วนอื่นๆ ของแอปพลิเคชันได้ง่ายขึ้น
